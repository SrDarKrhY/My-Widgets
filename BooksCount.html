<!DOCTYPE html>
<!-- saved from url=(0059)https://indify.co/widgets/live/counter/Z9bnIUS0eYjw4pwt80RU -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style data-emotion="mantine " data-s=""></style><meta name="viewport" content="width=device-width"><title>Indify – Counter Widget</title><meta name="title" content="Indify – Counter Widget"><meta name="description" content="Level up your Notion docs with widgets. Fully customizable, and seamless to set up."><meta name="robots" content="noindex"><meta property="og:type" content="website"><meta property="og:url" content="https://indify.co"><meta property="og:title" content="Indify – Counter Widget"><meta property="og:description" content="Level up your Notion docs with widgets. Fully customizable, and seamless to set up."><meta property="og:image" content="https://indify.co/site-preview.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://indify.co"><meta name="twitter:title" content="Indify – Counter Widget"><meta name="twitter:description" content="Level up your Notion docs with widgets. Fully customizable, and seamless to set up."><meta name="twitter:image" content="https://indify.co/site-preview.png"><meta name="google-signin-client_id" content="524845098815-ln2r633doalelenfke982p8ngrerisnj.apps.googleusercontent.com"><meta name="google-site-verification" content="N5ve9V4RSK_6nND83499KX0pX8Z6ZnC3CAG06XUbNWo"><link rel="shortcut icon" href="https://indify.co/logo.svg" type="image/x-icon"><link rel="icon" href="https://indify.co/logo.svg" type="image/x-icon"><meta name="viewport" content="width=device-width"><script type="text/javascript" async="" src="./Indify – Counter Widget_files/js"></script><script type="text/javascript" async="" src="./Indify – Counter Widget_files/analytics.js.descarga"></script><script src="./Indify – Counter Widget_files/platform.js.descarga" async="" defer="" gapi_processed="true"></script><meta name="next-head-count" content="21"><link rel="preload" href="./Indify – Counter Widget_files/da477341876571e89e6c.css" as="style"><link rel="stylesheet" href="./Indify – Counter Widget_files/da477341876571e89e6c.css" data-n-g=""><link rel="preload" href="./Indify – Counter Widget_files/af5c655b4af23efacb0f.css" as="style"><link rel="stylesheet" href="./Indify – Counter Widget_files/af5c655b4af23efacb0f.css" data-n-p=""><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./Indify – Counter Widget_files/polyfills-b69b38e0e606287ba003.js.descarga"></script><script src="./Indify – Counter Widget_files/webpack-20fa495916771a4d236b.js.descarga" defer=""></script><script src="./Indify – Counter Widget_files/framework-0bde067059066b5d3e1b.js.descarga" defer=""></script><script src="./Indify – Counter Widget_files/main-4f5a6b24ff6c42366de9.js.descarga" defer=""></script><script src="./Indify – Counter Widget_files/_app-9a874978f65ba949b3e8.js.descarga" defer=""></script><script src="./Indify – Counter Widget_files/[counterPrefsId]-97523a4b44d6b91ecf70.js.descarga" defer=""></script><script src="./Indify – Counter Widget_files/_buildManifest.js.descarga" defer=""></script><script src="./Indify – Counter Widget_files/_ssgManifest.js.descarga" defer=""></script><style data-styled="" data-styled-version="4.4.1"></style><style data-emotion="css-global" data-s="">html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;}body{margin:0;}article,aside,footer,header,nav,section,figcaption,figure,main{display:block;}h1{font-size:2em;}hr{box-sizing:content-box;height:0;overflow:visible;}pre{font-family:monospace,monospace;font-size:1em;}a{background:transparent;text-decoration-skip:objects;}a:active,a:hover{outline-width:0;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;}b,strong{font-weight:bolder;}code,kbp,samp{font-family:monospace,monospace;font-size:1em;}dfn{font-style:italic;}mark{background-color:#ff0;color:#000;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sup{top:-0.5em;}sub{bottom:-0.25em;}audio,video{display:inline-block;}audio:not([controls]){display:none;height:0;}img{border-style:none;vertical-align:middle;}svg:not(:root){overflow:hidden;}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button,[type=reset],[type=submit]{-webkit-appearance:button;}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0;}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:0.0625rem dotted ButtonText;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{display:inline-block;vertical-align:baseline;}textarea{overflow:auto;}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0;}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto;}[type=search]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;}::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;-ms-appearance:button;appearance:button;font:inherit;}details,menu{display:block;}summary{display:-webkit-box;display:-webkit-list-item;display:-ms-list-itembox;display:list-item;}canvas{display:inline-block;}template{display:none;}</style><style data-emotion="css-global" data-s="">*,*::before,*::after{box-sizing:border-box;}html{-webkit-print-color-scheme:light;color-scheme:light;}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;background-color:#fff;color:#000;line-height:1.55;font-size:1rem;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><style type="text/css">@font-face { font-family: Roboto; src: url("chrome-extension://mcgbeeipkmelnpldkobichboakdfaeon/css/Roboto-Regular.ttf"); }</style></head><body style="background-color: rgb(255, 255, 255);"><div id="__next"><div class="counter_container__1k2dt" style="color:#000000;justify-content:center;margin-left:0"><style>
					
					
					
				</style><div class="counter_counterWrapper__eup_- counter_centered__MEdrl"><p class="counter_counterTitle__2J6ie" style="color:#37352f"><b>books read</b></p><div class="counter_counterContent__1EXnh" style="z-index:99"><button class="counter_counterBtn__2ruSB"><svg class="counter_counterSign__1xr7i" width="10" height="2" viewBox="0 0 10 2" fill="none" xmlns="http://www.w3.org/2000/svg" version="1.1"><path class="counter_stroke__1dD_W" d="M1 1H9" stroke="#9E9E9E" stroke-linecap="round" stroke-linejoin="round"></path></svg></button><p class="counter_counterNumber__IskxI" style="color:#37352f">0</p><button class="counter_counterBtn__2ruSB"><svg class="counter_counterSign__1xr7i" width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg" version="1.1"><path class="counter_stroke__1dD_W" d="M5 1V9" stroke="#9E9E9E" stroke-linecap="round" stroke-linejoin="round"></path><path class="counter_stroke__1dD_W" d="M1 5H9" stroke="#9E9E9E" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div><div style="margin-top:-9px"><button class="counter_clearButton__1Qblw" style="color:#37352f">reset</button></div></div></div><div class="Toastify"></div><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5HGC94H" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"widgetPrefs":{"title":"Untitled","showCustomizeButton":true,"allowDuplication":false,"uid":"C6Ufq92qMyQO7N1RzNhDAzHy7v03","dateCreated":"2021-08-26T07:19:44.295Z","darkMode":false,"counterTitle":"books read","icons":"P","backgroundColor":"#ffdbc3","centered":true,"darkModeHoverBar":false,"setBackgroundColor":false,"buttonStyle":"light","lastViewed":"2023-03-07T17:00:00.272Z","count":"0","isPremium":false,"isEducator":false}},"urlInfo":{"protocol":"https:","host":"indify.co","origin":"https://indify.co"},"envVars":{"googleApiKey":"AIzaSyDTMMsTlg93L-xYciFeS4oeGFJ9ulhUQmM"}},"page":"/widgets/live/counter/[counterPrefsId]","query":{"counterPrefsId":"Z9bnIUS0eYjw4pwt80RU"},"buildId":"NOAIJZyOLc_S7e1f7nBvQ","runtimeConfig":{},"isFallback":false,"gip":true,"appGip":true,"scriptLoader":[]}</script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer><script>
		function returnCommentSymbol(language = "javascript") {
			const languageObject = {
				bat: "@REM",
				c: "//",
				csharp: "//",
				cpp: "//",
				closure: ";;",
				coffeescript: "#",
				dockercompose: "#",
				css: "/*DELIMITER*/",
				"cuda-cpp": "//",
				dart: "//",
				diff: "#",
				dockerfile: "#",
				fsharp: "//",
				"git-commit": "//",
				"git-rebase": "#",
				go: "//",
				groovy: "//",
				handlebars: "{{!--DELIMITER--}}",
				hlsl: "//",
				html: "<!--DELIMITER-->",
				ignore: "#",
				ini: ";",
				java: "//",
				javascript: "//",
				javascriptreact: "//",
				json: "//",
				jsonc: "//",
				julia: "#",
				latex: "%",
				less: "//",
				lua: "--",
				makefile: "#",
				markdown: "<!--DELIMITER-->",
				"objective-c": "//",
				"objective-cpp": "//",
				perl: "#",
				perl6: "#",
				php: "<!--DELIMITER-->",
				powershell: "#",
				properties: ";",
				jade: "//-",
				python: "#",
				r: "#",
				razor: "<!--DELIMITER-->",
				restructuredtext: "..",
				ruby: "#",
				rust: "//",
				scss: "//",
				shaderlab: "//",
				shellscript: "#",
				sql: "--",
				svg: "<!--DELIMITER-->",
				swift: "//",
				tex: "%",
				typescript: "//",
				typescriptreact: "//",
				vb: "'",
				xml: "<!--DELIMITER-->",
				xsl: "<!--DELIMITER-->",
				yaml: "#"
			}
			if(!languageObject[language]){
				return languageObject["python"].split("DELIMITER")
			}
			return languageObject[language].split("DELIMITER")
		}
		var savedChPos = 0
		var returnedSuggestion = ''
		let editor, doc, cursor, line, pos
		pos = {line: 0, ch: 0}
		var suggestionsStatus = false
		var docLang = "python"
		var suggestionDisplayed = false
		var isReturningSuggestion = false
		document.addEventListener("keydown", (event) => {
		setTimeout(()=>{
			editor = event.target.closest('.CodeMirror');
			if (editor){
				const codeEditor = editor.CodeMirror
				if(!editor.classList.contains("added-tab-function")){
					editor.classList.add("added-tab-function")
					codeEditor.removeKeyMap("Tab")
					codeEditor.setOption("extraKeys", {Tab: (cm)=>{

						if(returnedSuggestion){
							acceptTab(returnedSuggestion)
						}
						else{
							cm.execCommand("defaultTab")
						}
					}})
				}
				doc = editor.CodeMirror.getDoc()
				cursor = doc.getCursor()
				line = doc.getLine(cursor.line)
				pos = {line: cursor.line, ch: line.length}

				if(cursor.ch > 0){
					savedChPos = cursor.ch
				}

				const fileLang = doc.getMode().name
				docLang = fileLang
				const commentSymbol = returnCommentSymbol(fileLang)
				if (event.key == "?"){
					var lastLine = line
					lastLine = lastLine.slice(0, savedChPos - 1)

					if(lastLine.trim().startsWith(commentSymbol[0])){
						if(fileLang !== "null"){
							lastLine += " "+ fileLang
						}
						
						lastLine = lastLine.split(commentSymbol[0])[1]
						window.postMessage({source: 'getQuery', payload: { data: lastLine } } )
						isReturningSuggestion = true
						displayGrey("\nBlackbox loading...")
					}
				}else if(event.key === "Enter" && suggestionsStatus && !isReturningSuggestion){
					var query = doc.getRange({ line: Math.max(0,cursor.line-50), ch: 0 }, { line: cursor.line, ch: line.length })
					window.postMessage({source: 'getSuggestion', payload: { data: query, language: docLang, cursorPos: pos } } )
					displayGrey("Blackbox loading...")
				}else if(event.key === "ArrowRight" && returnedSuggestion){
					acceptTab(returnedSuggestion)
				}else if(event.key === "Enter" && isReturningSuggestion){
					displayGrey("\nBlackbox loading...")
				}else if(event.key === "Escape"){
					displayGrey("")
				}
			}
		}, 0)
		})

		function acceptTab(text){
		if (suggestionDisplayed){
			displayGrey("")
			doc.replaceRange(text, pos)
			returnedSuggestion = ""
			updateSuggestionStatus(false)
		}
		}
		function acceptSuggestion(text){
			displayGrey("")
			doc.replaceRange(text, pos)
			returnedSuggestion = ""
			updateSuggestionStatus(false)
		}
		function displayGrey(text){
			if(!text){
				document.querySelector(".blackbox-suggestion").remove()
				return
			}
			var el = document.querySelector(".blackbox-suggestion")
			if(!el){
				el = document.createElement('span')
				el.classList.add("blackbox-suggestion")
				el.style = 'color:grey'
				el.innerText = text
			}
			else{
				el.innerText = text
			}
			
			var lineIndex = pos.line;
			editor.getElementsByClassName('CodeMirror-line')[lineIndex].appendChild(el)
		}
		function updateSuggestionStatus(s){
			suggestionDisplayed = s
			window.postMessage({source: 'updateSuggestionStatus', status: suggestionDisplayed, suggestion: returnedSuggestion})
		}
		window.addEventListener('message', (event)=>{
		if (event.source !== window ) return
		if (event.data.source == 'return'){
			isReturningSuggestion = false
			const formattedCode = formatCode(event.data.payload.data)
			returnedSuggestion = formattedCode
			displayGrey(formattedCode)
			updateSuggestionStatus(true)
		}
		if(event.data.source == 'suggestReturn'){
			const prePos = event.data.payload.cursorPos
			if(pos.line == prePos.line && pos.ch == prePos.ch){
				returnedSuggestion = event.data.payload.data
				displayGrey(event.data.payload.data)
				updateSuggestionStatus(true)
			}
			else{
				displayGrey()
			}
		}
		if(event.data.source == 'codeSearchReturn'){
			isReturningSuggestion = false
			displayGrey()
		}
		if(event.data.source == 'suggestionsStatus'){
			suggestionsStatus = event.data.payload.enabled
		}
		if(event.data.source == 'acceptSuggestion'){
			
			acceptSuggestion(event.data.suggestion)
		}
		})
		document.addEventListener("keyup", function(){
			returnedSuggestion = ""
			updateSuggestionStatus(false)
		})
		function formatCode(data) {
			if (Array.isArray(data)) {
				var finalCode = ""
				var pairs = []
		
				const commentSymbol = returnCommentSymbol(docLang)
				data.forEach((codeArr, idx) => {
					const code = codeArr[0]
					var desc = codeArr[1]
					const descArr = desc.split("\n")
					var finalDesc = ""
					descArr.forEach((descLine, idx) => {
						const whiteSpace = descLine.search(/\S/)
						if (commentSymbol.length < 2 || idx === 0) {
							finalDesc += insert(descLine, whiteSpace, commentSymbol[0])
						}
						if (commentSymbol.length > 1 && idx === descArr.length - 1) {
							finalDesc = finalDesc + commentSymbol[1] + "\n"
						}
					})
		
					finalCode += finalDesc + "\n\n" + code
					pairs.push(finalCode)
				})
				return "\n"+pairs.join("\n")
			}
		
			return "\n"+data
		}
		
		function insert(str, index, value) {
			return str.substr(0, index) + value + str.substr(index)
		}
	</script></body></html>
